import{r as t,h as s,a as e,g as a}from"./p-7c16486e.js";import{c as r}from"./p-c608c6dc.js";import{s as l}from"./p-bf956c1d.js";const i=class{constructor(s){t(this,s),this.small=!1,this.size="large"}smallChanged(){this.propagateSizeToTabs()}handleClick(t){const s=t.target;"tab"===s.getAttribute("role")&&this.selectTab(s)}handleKeydown(t){let s;if("tab"===t.target.getAttribute("role")&&!t.altKey){switch(t.key){case"ArrowLeft":s=this.getPreviousTab();break;case"ArrowRight":s=this.getNextTab();break;case"Home":s=this.getFirstTab();break;case"End":s=this.getLastTab();break;default:return}t.preventDefault(),this.selectTab(s)}}connectedCallback(){this.el.hasAttribute("role")||this.el.setAttribute("role","tablist")}componentDidRender(){Promise.all([customElements.whenDefined("scale-tab-header"),customElements.whenDefined("scale-tab-panel")]).then((()=>{this.linkPanels(),this.propagateSizeToTabs()})),!1!==this.small&&l({tag:"deprecated",message:'Property "small" is deprecated. Please use the "size" property!',type:"warn",source:this.el})}getAllTabs(){return Array.from(this.el.querySelectorAll("scale-tab-header"))}getAllEnabledTabs(){return Array.from(this.el.querySelectorAll("scale-tab-header:not([disabled])"))}getAllPanels(){return Array.from(this.el.querySelectorAll("scale-tab-panel"))}getPreviousTab(){const t=this.getAllEnabledTabs(),s=t.findIndex((t=>t.selected))-1;return t[(s+t.length)%t.length]}getNextTab(){const t=this.getAllEnabledTabs(),s=t.findIndex((t=>t.selected))+1;return t[s%t.length]}getFirstTab(){return this.getAllEnabledTabs()[0]}getLastTab(){const t=this.getAllEnabledTabs();return t[t.length-1]}linkPanels(){const t=this.getAllEnabledTabs(),s=t.find((t=>t.selected))||t[0];t.forEach((t=>{const s=t.nextElementSibling;t.setAttribute("aria-controls",s.id),s.setAttribute("aria-labelledby",t.id)})),this.selectTab(s)}reset(){const t=this.getAllEnabledTabs(),s=this.getAllPanels();t.forEach((t=>t.selected=!1)),s.forEach((t=>t.hidden=!0))}findPanelForTab(t){const s=t.getAttribute("aria-controls");return this.el.querySelector(`#${s}`)}selectTab(t){const s=this.findPanelForTab(t);this.reset(),s.hidden=!1,t.selected=!0}propagateSizeToTabs(){const t="small"===this.size||this.small?"setAttribute":"removeAttribute";[...this.getAllTabs(),...this.getAllPanels()].forEach((s=>s[t]("small","")))}render(){return s(e,null,this.styles&&s("style",null,this.styles),s("div",{part:this.getBasePartMap(),class:this.getCssClassMap()},s("slot",{name:"tab"}),s("slot",{name:"panel"})))}getBasePartMap(){return this.getCssOrBasePartMap("basePart")}getCssClassMap(){return this.getCssOrBasePartMap("css")}getCssOrBasePartMap(t){return r("tab-nav",("small"===this.size||this.small)&&("basePart"===t?"":"tab-nav--")+"small")}get el(){return a(this)}static get watchers(){return{small:["smallChanged"]}}};i.style=":host{--tab-height:var(--scl-spacing-40);--tab-spacing:var(--scl-spacing-24);--tab-radius:var(--scl-radius-4);--tab-border-size:var(--scl-spacing-2);--tab-border-size-selected:var(--scl-spacing-4);--tab-border-color:var(--scl-color-grey-20)}";export{i as scale_tab_nav}