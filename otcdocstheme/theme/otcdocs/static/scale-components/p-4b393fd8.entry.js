import{r as t,c as i,h as s,a as o,g as e}from"./p-d52b3602.js";import{c as a,o as n,f as r,a as h,s as d}from"./p-71972792.js";import{b as l}from"./p-086c9d13.js";import{s as c}from"./p-c5a89792.js";let p=0;const u=class{constructor(s){t(this,s),this.tooltipBeforeShow=i(this,"scale-before-show",7),this.tooltipShow=i(this,"scale-show",7),this.tooltipBeforeHide=i(this,"scale-before-hide",7),this.tooltipHide=i(this,"scale-hide",7),this.componentId="tooltip-"+ ++p,this.content="",this.placement="top",this.disabled=!1,this.distance=10,this.arrowOffset=-4,this.arrowPadding=8,this.opened=!1,this.trigger="hover focus",this.flip=!0,this.mouseOverTooltip=!1,this.update=async()=>{if(this.disabled||null==this.triggerEl)return;const{x:t,y:i,placement:s,middlewareData:o}=await a(this.triggerEl,this.tooltipEl,{placement:this.placement,middleware:[n(this.distance),...this.flip?[r()]:[],h({element:this.arrowEl,padding:this.arrowPadding}),d({crossAxis:!0})]});Object.assign(this.tooltipEl.style,{left:`${t}px`,top:`${i}px`});const{x:e,y:l}=o.arrow,[c]=s.split("-");Object.assign(this.arrowEl.style,{left:null!=e?`${e}px`:"",top:null!=l?`${l}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[c]]:`${this.arrowOffset}px`})},this.handleBlur=()=>{this.hasTrigger("focus")&&this.hideTooltip()},this.handleClick=()=>{this.hasTrigger("click")&&(this.opened&&!this.hasTrigger("focus")?this.hideTooltip():this.showTooltip())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.showTooltip()},this.handleKeyDown=t=>{this.opened&&"Escape"===t.key&&(t.stopPropagation(),this.hideTooltip())},this.handleMouseOver=()=>{this.hasTrigger("hover")&&this.showTooltip()},this.handleMouseOut=()=>{this.mouseOverTooltip||this.hasTrigger("hover")&&this.hideTooltip()},this.handleTooltipMouseOver=()=>{this.mouseOverTooltip=!0},this.handleTooltipBlur=()=>{this.mouseOverTooltip=!1,this.handleMouseOut()},this.hasTrigger=t=>this.trigger.split(" ").includes(t)}handleOpenChange(){this.opened?this.showTooltip():this.hideTooltip()}connectedCallback(){c({source:this.hostElement,tag:"beta"}),this.hostElement.hasAttribute("open")&&c({tag:"deprecated",message:"The `open` prop is deprecated in favor of `opened`",source:this.hostElement});const t=Array.from(this.hostElement.children).filter((t=>!t.hasAttribute("slot")));0!==t.length?(this.triggerEl=t[0],this.triggerEl.addEventListener("blur",this.handleBlur,!0),this.triggerEl.addEventListener("click",this.handleClick,!0),this.triggerEl.addEventListener("focus",this.handleFocus,!0),this.triggerEl.addEventListener("mouseover",this.handleMouseOver,!0),this.triggerEl.addEventListener("mouseout",this.handleMouseOut,!0)):c({tag:"warning",message:"An element is required, if using text, wrap it in a `<span>`",type:"warn",source:this.hostElement})}disconnectedCallback(){this.triggerEl.removeEventListener("blur",this.handleBlur,!0),this.triggerEl.removeEventListener("click",this.handleClick,!0),this.triggerEl.removeEventListener("focus",this.handleFocus,!0),this.triggerEl.removeEventListener("mouseover",this.handleMouseOver,!0),this.triggerEl.removeEventListener("mouseout",this.handleMouseOut,!0)}handleOutsideClick(t){l(t,this.hostElement)&&this.hideTooltip()}componentDidUpdate(){this.update(),this.opened&&this.showTooltip()}componentDidRender(){this.update()}async showTooltip(){this.opened||(this.tooltipBeforeShow.emit().defaultPrevented?this.opened=!1:(this.opened=!0,this.update()))}async hideTooltip(){this.opened&&(this.tooltipBeforeHide.emit().defaultPrevented?this.opened=!0:(this.opened=!1,this.update()))}render(){return s(o,{onKeyDown:this.handleKeyDown},this.styles&&s("style",null,this.styles),s("span",{part:"trigger","aria-describedby":this.componentId},s("slot",null)),!this.disabled&&s("div",{part:"tooltip",role:"tooltip","aria-hidden":this.opened?"false":"true",ref:t=>this.tooltipEl=t,id:this.componentId,onMouseOver:this.handleTooltipMouseOver,onMouseLeave:this.handleTooltipBlur},s("slot",{name:"content"},this.content),s("div",{"aria-hidden":"true",part:"arrow",ref:t=>this.arrowEl=t})))}get hostElement(){return e(this)}static get watchers(){return{opened:["handleOpenChange"]}}};u.style=":host{--radius:var(--telekom-radius-small);--background:var(--telekom-color-background-surface-highlight);--color:var(--telekom-color-text-and-icon-white-standard);--font-weight:var(--telekom-typography-font-weight-regular);--font-size:var(--telekom-typography-font-size-body);--line-height:var(--telekom-typography-line-spacing-standard);--spacing:var(--telekom-spacing-composition-space-02)\n    var(--telekom-spacing-composition-space-04);--arrow-size:12px;--transition-delay-hide:var(--telekom-motion-duration-instant);--transition-duration-hide:var(--telekom-motion-duration-immediate);--transition-timing-function-hide:var(--telekom-motion-easing-standard);--transition-duration-show:var(--telekom-motion-duration-immediate);--transition-timing-function-show:var(--telekom-motion-easing-standard);--z-index:var(--scl-z-index-70);display:contents;position:relative;box-sizing:border-box}[part='tooltip']{position:absolute;z-index:var(--z-index);top:0;left:0;background:var(--background);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);line-height:var(--line-height);padding:var(--spacing);border-radius:var(--radius);transition-property:opacity;transition-duration:var(--transition-duration-show);transition-timing-function:var(--transition-timing-function-show)}[part='tooltip'][aria-hidden='true']{opacity:0;transition-delay:var(--transition-delay-hide);transition-duration:var(--transition-duration-hide);transition-timing-function:var(--transition-timing-function-hide);pointer-events:none}[part='trigger']{}[part='arrow']{position:absolute;z-index:-1;background:var(--background);width:var(--arrow-size);height:var(--arrow-size);transform:rotate(45deg)}@media screen and (-ms-high-contrast: active){[part='tooltip']{border:1px solid yellow}}";export{u as scale_tooltip}